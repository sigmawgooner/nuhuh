<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-7FN7LEVWXD"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-7FN7LEVWXD');
        </script>

        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <link rel="shortcut icon" href="../images/ico.ico" type="image/x-icon">
        <link rel="stylesheet" href="/storage/css/games.css">

        <title>Games | Seraph</title>

        <meta name="description" content="an open source games site hosting 500+ games, useful utilities, powerful settings + a clean user interface">
        <meta property="og:site_name" content="seraph">
        <meta property="og:title" content="seraph">
        <meta property="og:type" content="website">
        <meta property="og:description" content="an open source games site hosting 500+ games, useful utilities, powerful settings + a clean user interface">
        
        <style>
            .pinned-container {
                display: flex;
                flex-wrap: wrap;
                justify-content: center;
            }

            .pin-button {
                position: absolute;
                top: 5px;
                right: 5px; 
                z-index: 2; 
            }
        </style>

        <script>
            if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/offline-worker.js').then(function(registration) {
                    console.log('service worker initalised! scope:', registration.scope);
        
                    navigator.serviceWorker.addEventListener('message', function(event) {
                        if (event.data === 'cached') {
                            document.getElementById('cache-status').style.display = 'block';
                        }
                    });
                }, function(error) {
                    console.log('ack, error with serviceworker! ', error);
                });
            });
        }
        </script>
    </head>

<body>

<!-- ðŸ”¥ ADDED: BLUR SCREEN + CONTINUE BUTTON -->
<div id="blurScreen">
    <div id="blurBox">
        <h2>Welcome</h2>
        <button id="continueBtn">Continue</button>
    </div>
</div>

<style>
    #blurScreen {
        position: fixed;
        inset: 0;
        backdrop-filter: blur(20px);
        background: rgba(0, 0, 0, 0.45);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 99999;
        transition: opacity 0.3s ease;
    }

    #blurBox {
        background: rgba(30, 30, 30, 0.6);
        padding: 35px 50px;
        border-radius: 15px;
        color: white;
        text-align: center;
        backdrop-filter: blur(12px);
    }

    #continueBtn {
        margin-top: 15px;
        padding: 12px 25px;
        background: white;
        border: none;
        border-radius: 8px;
        font-size: 17px;
        cursor: pointer;
        transition: 0.2s;
    }

    #continueBtn:hover {
        background: #dcdcdc;
    }
</style>


<!-- ðŸ”¥ YOUR ORIGINAL PAGE STARTS HERE -->
<h1 class="typewriter"><span id="cursor"></span></h1>

<input type="text" id="search" placeholder="âŒ• search" autocomplete="off">
<select id="genreDropdown" style="margin-top: 5px; margin-left: 5px;">
    <option value="all">all</option>
    <option value="adventure">adventure</option>
    <option value="arcade">arcade</option>
    <option value="mobile">mobile friendly</option>
    <option value="platformer">platformer</option>
    <option value="puzzle">puzzle</option>
    <option value="simulation">simulation</option>
</select>

<p class="linkp"><a href="../index.html">homepage</a> â€¢  <a href="https://github.com/a456pur/seraph" target="_blank">github</a> â€¢  <a href="https://discord.gg/ZyZDmx3zuQ" target="_blank">discord</a> â€¢  <a id="openBlankLink">open blank</a></p>

<br>
<h2 class="pinned-header">starred games</h2>
<div class="pinned-container">

</div>
<!-- END OF YOUR ORIGINAL PAGE -->



<!-- ðŸ”¥ ADDED: FIREBASE + BUTTON SCRIPT -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.5.0/firebase-app.js";
import { getAuth, GoogleAuthProvider, signInWithPopup } 
    from "https://www.gstatic.com/firebasejs/10.5.0/firebase-auth.js";

// ---------- FIREBASE SETUP ----------
const firebaseConfig = {
    apiKey: "AIzaSyDUgMKjJsnIF-K9s5nXk9QA27qBuMcpndc",
    authDomain: "auth-cb5f9.firebaseapp.com",
    projectId: "auth-cb5f9",
    storageBucket: "auth-cb5f9.firebasestorage.app",
    messagingSenderId: "457513426175",
    appId: "1:457513426175:web:c1705264abc9dbc8ed00ca"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const provider = new GoogleAuthProvider();
// -----------------------------------

// BUTTON CLICK â†’ LOGIN
document.getElementById("continueBtn").addEventListener("click", async () => {
    const btn = document.getElementById("continueBtn");
    btn.innerText = "Loading...";

    try {
        const user = await signInWithPopup(auth, provider);
        console.log("Logged in:", user.user.email);
    } catch (err) {
        console.error("Login failed", err);
    }

    // REMOVE BLUR
    const blur = document.getElementById("blurScreen");
    blur.style.opacity = "0";
    setTimeout(() => { blur.remove(); }, 300);
});
</script>

</body>
</html>
